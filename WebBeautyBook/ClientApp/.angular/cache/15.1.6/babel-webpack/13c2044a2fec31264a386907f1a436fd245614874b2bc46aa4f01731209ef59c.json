{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nlet ForgotPasswordComponent = class ForgotPasswordComponent {\n  constructor(auth, formBuilder, router) {\n    this.auth = auth;\n    this.formBuilder = formBuilder;\n    this.router = router;\n    if (auth.hasToken()) router.navigate([\"/\"]);\n    this.mForm = formBuilder.group({\n      email: new FormControl('', [Validators.required, Validators.email])\n    });\n    this.result = '';\n    this.isErrorResult = false;\n  }\n  onSubmit() {\n    if (!this.mForm.valid) return;\n    var email = this.mForm.controls[\"email\"].getRawValue();\n    this.auth.ForgotPassword(email).subscribe(result => {\n      console.log(result);\n      this.result = 'We have sent you a password reset link to your email address \"' + email + '\"';\n      this.isErrorResult = false;\n    }, error => {\n      console.log(error);\n      this.result = error.error;\n      this.isErrorResult = true;\n    });\n  }\n};\nForgotPasswordComponent = __decorate([Component({\n  selector: 'app-forgot-password',\n  templateUrl: './forgot-password.component.html',\n  styleUrls: ['./forgot-password.component.css']\n})], ForgotPasswordComponent);\nexport { ForgotPasswordComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAsBC,WAAW,EAAaC,UAAU,QAAQ,gBAAgB;AASzE,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAKlCC,YAAoBC,IAAiB,EAAUC,WAAwB,EAAUC,MAAc;IAA3E,SAAI,GAAJF,IAAI;IAAuB,gBAAW,GAAXC,WAAW;IAAuB,WAAM,GAANC,MAAM;IACrF,IAAGF,IAAI,CAACG,QAAQ,EAAE,EAAED,MAAM,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC1C,IAAI,CAACC,KAAK,GAAGJ,WAAW,CAACK,KAAK,CAAC;MAC7BC,KAAK,EAAE,IAAIX,WAAW,CAAC,EAAE,EAAE,CAACC,UAAU,CAACW,QAAQ,EAAEX,UAAU,CAACU,KAAK,CAAC;KACnE,CAAC;IACF,IAAI,CAACE,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,aAAa,GAAG,KAAK;EAC5B;EAEOC,QAAQ;IAEb,IAAG,CAAC,IAAI,CAACN,KAAK,CAACO,KAAK,EAAE;IAEtB,IAAIL,KAAK,GAAG,IAAI,CAACF,KAAK,CAACQ,QAAQ,CAAC,OAAO,CAAC,CAACC,WAAW,EAAE;IACtD,IAAI,CAACd,IAAI,CAACe,cAAc,CAACR,KAAK,CAAC,CAC5BS,SAAS,CACRP,MAAM,IAAG;MACPQ,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;MACnB,IAAI,CAACA,MAAM,GAAG,gEAAgE,GAAGF,KAAK,GAAG,GAAG;MAC5F,IAAI,CAACG,aAAa,GAAG,KAAK;IAC5B,CAAC,EAAES,KAAK,IAAG;MACTF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MAClB,IAAI,CAACV,MAAM,GAAGU,KAAK,CAACA,KAAK;MACzB,IAAI,CAACT,aAAa,GAAG,IAAI;IAC3B,CAAC,CACF;EACL;CACD;AAhCYZ,uBAAuB,eALnCH,SAAS,CAAC;EACTyB,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACWxB,uBAAuB,CAgCnC;SAhCYA,uBAAuB","names":["Component","FormControl","Validators","ForgotPasswordComponent","constructor","auth","formBuilder","router","hasToken","navigate","mForm","group","email","required","result","isErrorResult","onSubmit","valid","controls","getRawValue","ForgotPassword","subscribe","console","log","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\chizh\\source\\repos\\WebBeautyBook\\WebBeautyBook\\ClientApp\\src\\app\\auth\\forgot-password\\forgot-password.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Component({\n  selector: 'app-forgot-password',\n  templateUrl: './forgot-password.component.html',\n  styleUrls: ['./forgot-password.component.css']\n})\nexport class ForgotPasswordComponent {\n  mForm: FormGroup;\n  result: string;\n  isErrorResult: boolean;\n\n  constructor(private auth: AuthService, private formBuilder: FormBuilder, private router: Router) { \n    if(auth.hasToken()) router.navigate([\"/\"]);\n    this.mForm = formBuilder.group({\n      email: new FormControl('', [Validators.required, Validators.email])\n    });\n    this.result = '';\n    this.isErrorResult = false;\n  }\n\n  public onSubmit(){\n\n    if(!this.mForm.valid) return;\n\n    var email = this.mForm.controls[\"email\"].getRawValue();\n    this.auth.ForgotPassword(email)\n      .subscribe(\n        result => {\n          console.log(result);\n          this.result = 'We have sent you a password reset link to your email address \"' + email + '\"';\n          this.isErrorResult = false;\n        }, error => {\n          console.log(error);\n          this.result = error.error;\n          this.isErrorResult = true;\n        }\n      );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
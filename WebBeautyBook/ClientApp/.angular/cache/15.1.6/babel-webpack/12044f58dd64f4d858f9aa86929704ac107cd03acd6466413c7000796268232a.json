{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet EmailConfirmationComponent = class EmailConfirmationComponent {\n  constructor(auth, router, activityRoute) {\n    this.auth = auth;\n    this.router = router;\n    this.activityRoute = activityRoute;\n    this.isSuccess = null;\n    this.errorMessage = null;\n    //Pulling a token and an email address from a URL\n    const token = this.activityRoute.snapshot.queryParams[\"token\"];\n    const email = this.activityRoute.snapshot.queryParams[\"email\"];\n    //If token or email address not found, redirect to home page\n    if (token == undefined || email == undefined) this.router.navigate([\"/\"]);\n    //Otherwise send token and email address to API\n    this.send(token, email);\n  }\n  ngOnInit() {}\n  send(token, email) {\n    this.auth.emailConfirmation(token, email).subscribe(result => {\n      this.isSuccess = true;\n    }, error => {\n      this.isSuccess = false;\n      this.errorMessage = error.error;\n    });\n  }\n};\nEmailConfirmationComponent = __decorate([Component({\n  selector: 'app-email-confirmation',\n  templateUrl: './email-confirmation.component.html',\n  styleUrls: ['./email-confirmation.component.css']\n})], EmailConfirmationComponent);\nexport { EmailConfirmationComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EAIrCC,YAAoBC,IAAiB,EAAUC,MAAc,EAAUC,aAA6B;IAAhF,SAAI,GAAJF,IAAI;IAAuB,WAAM,GAANC,MAAM;IAAkB,kBAAa,GAAbC,aAAa;IAHpF,cAAS,GAAiB,IAAI;IAC9B,iBAAY,GAAgB,IAAI;IAG9B;IACA,MAAMC,KAAK,GAAG,IAAI,CAACD,aAAa,CAACE,QAAQ,CAACC,WAAW,CAAC,OAAO,CAAC;IAC9D,MAAMC,KAAK,GAAG,IAAI,CAACJ,aAAa,CAACE,QAAQ,CAACC,WAAW,CAAC,OAAO,CAAC;IAE9D;IACA,IAAGF,KAAK,IAAII,SAAS,IAAID,KAAK,IAAIC,SAAS,EAAE,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAExE;IACA,IAAI,CAACC,IAAI,CAACN,KAAK,EAAEG,KAAK,CAAC;EACzB;EAEAI,QAAQ,IAER;EAGQD,IAAI,CAACN,KAAa,EAAEG,KAAY;IACtC,IAAI,CAACN,IAAI,CAACW,iBAAiB,CAACR,KAAK,EAAEG,KAAK,CAAC,CAACM,SAAS,CACjDC,MAAM,IAAG;MACP,IAAI,CAACC,SAAS,GAAG,IAAI;IACvB,CAAC,EAACC,KAAK,IAAG;MACR,IAAI,CAACD,SAAS,GAAG,KAAK;MACtB,IAAI,CAACE,YAAY,GAAGD,KAAK,CAACA,KAAK;IACjC,CAAC,CACF;EACH;CACD;AA/BYjB,0BAA0B,eALtCD,SAAS,CAAC;EACToB,QAAQ,EAAE,wBAAwB;EAClCC,WAAW,EAAE,qCAAqC;EAClDC,SAAS,EAAE,CAAC,oCAAoC;CACjD,CAAC,GACWrB,0BAA0B,CA+BtC;SA/BYA,0BAA0B","names":["Component","EmailConfirmationComponent","constructor","auth","router","activityRoute","token","snapshot","queryParams","email","undefined","navigate","send","ngOnInit","emailConfirmation","subscribe","result","isSuccess","error","errorMessage","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\chizh\\source\\repos\\WebBeautyBook\\WebBeautyBook\\ClientApp\\src\\app\\auth\\email-confirmation\\email-confirmation.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-email-confirmation',\n  templateUrl: './email-confirmation.component.html',\n  styleUrls: ['./email-confirmation.component.css']\n})\nexport class EmailConfirmationComponent {\n  isSuccess: boolean|null = null;\n  errorMessage: string|null = null;\n\n  constructor(private auth: AuthService, private router: Router, private activityRoute: ActivatedRoute) { \n    //Pulling a token and an email address from a URL\n    const token = this.activityRoute.snapshot.queryParams[\"token\"];\n    const email = this.activityRoute.snapshot.queryParams[\"email\"];\n    \n    //If token or email address not found, redirect to home page\n    if(token == undefined || email == undefined) this.router.navigate([\"/\"]);\n\n    //Otherwise send token and email address to API\n    this.send(token, email);\n  }\n\n  ngOnInit(): void {\n\n  }\n\n\n  private send(token: string, email:string){\n    this.auth.emailConfirmation(token, email).subscribe(\n      result => {\n        this.isSuccess = true;\n      },error => {\n        this.isSuccess = false;\n        this.errorMessage = error.error;\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
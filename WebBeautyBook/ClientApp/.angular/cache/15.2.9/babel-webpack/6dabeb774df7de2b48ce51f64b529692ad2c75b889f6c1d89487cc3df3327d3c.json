{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction CategotyPanelComponent_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 3);\n    i0.ɵɵtext(1, \"Categories not found.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategotyPanelComponent_div_2_small_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Sub categoty: \", item_r2.categoryId, \"\");\n  }\n}\nfunction CategotyPanelComponent_div_2_small_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Sub categoty: NULL\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategotyPanelComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"p\", 6);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 7);\n    i0.ɵɵtemplate(7, CategotyPanelComponent_div_2_small_7_Template, 2, 1, \"small\", 8);\n    i0.ɵɵtemplate(8, CategotyPanelComponent_div_2_small_8_Template, 2, 0, \"small\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 9)(10, \"div\", 10)(11, \"img\", 11);\n    i0.ɵɵlistener(\"click\", function CategotyPanelComponent_div_2_Template_img_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r3 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onDelete(i_r3));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"img\", 12);\n    i0.ɵɵlistener(\"click\", function CategotyPanelComponent_div_2_Template_img_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r3 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onUpdate(i_r3));\n    });\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"ID: \", item_r2.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r2.categoryId != null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r2.categoryId == null);\n  }\n}\n// import {MatDialog, MatDialogModule} from '@angular/material/dialog';\n// import {MatButtonModule} from '@angular/material/button';\nexport class CategotyPanelComponent {\n  constructor(http, baseUrl, auth) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.auth = auth;\n    this.list = [];\n    this.mForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(2)]),\n      categoryId: new FormControl('', [Validators.minLength(10)])\n    });\n    this.loadCategories();\n  }\n  onDelete(index) {\n    var idCategory = this.list[index];\n    if (idCategory != null && idCategory != undefined) {\n      console.log(\"onDelete(\" + index + \") -> send\");\n      this.http.delete(this.baseUrl + \"api/Category?id=\" + idCategory.id, {\n        headers: this.auth.getHeadersWithToken()\n      }).subscribe(result => {\n        console.log(result);\n        this.list.splice(index, 1);\n      }, error => {\n        console.log(error);\n      });\n    } else {\n      console.log(\"onDelete() -> Not found item: \" + index);\n    }\n  }\n  onUpdate(index) {}\n  loadCategories() {\n    this.http.get(this.baseUrl + \"api/Category\").subscribe(result => {\n      this.list = result;\n    }, error => {\n      console.log(\"Error -> Home -> loadCategories()\");\n      console.log(error);\n    });\n  }\n}\nCategotyPanelComponent.ɵfac = function CategotyPanelComponent_Factory(t) {\n  return new (t || CategotyPanelComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nCategotyPanelComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategotyPanelComponent,\n  selectors: [[\"app-categoty-panel\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[1, \"container\", \"my-2\", \"bg-light\", \"border\", \"rounded\", \"shadow\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"row d-flex bg-primary rounded m-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\"], [1, \"row\", \"d-flex\", \"bg-primary\", \"rounded\", \"m-2\"], [1, \"col\"], [1, \"text-lg-center\", \"m-0\", \"h6\", \"text-white\"], [1, \"text-lg-center\", \"m-0\", \"text-white\"], [4, \"ngIf\"], [1, \"col-2\", \"d-flex\", \"justify-content-around\"], [1, \"row\"], [\"src\", \"../../../assets/svg/trash.svg\", 2, \"width\", \"50px\", 3, \"click\"], [\"src\", \"../../../assets/svg/edit.svg\", 2, \"width\", \"50px\", 3, \"click\"]],\n  template: function CategotyPanelComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, CategotyPanelComponent_p_1_Template, 2, 0, \"p\", 1);\n      i0.ɵɵtemplate(2, CategotyPanelComponent_div_2_Template, 13, 4, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.list == null || ctx.list.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.list);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","i0","CategotyPanelComponent","constructor","http","baseUrl","auth","mForm","name","required","minLength","categoryId","loadCategories","onDelete","index","idCategory","list","undefined","console","log","delete","id","headers","getHeadersWithToken","subscribe","result","splice","error","onUpdate","get","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\chizh\\source\\repos\\WebBeautyBook\\WebBeautyBook\\ClientApp\\src\\app\\admin\\categoty-panel\\categoty-panel.component.ts","C:\\Users\\chizh\\source\\repos\\WebBeautyBook\\WebBeautyBook\\ClientApp\\src\\app\\admin\\categoty-panel\\categoty-panel.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, Inject } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Category } from \"../../models/Category\";\nimport { AuthService } from 'src/app/services/auth.service';\n// import {MatDialog, MatDialogModule} from '@angular/material/dialog';\n// import {MatButtonModule} from '@angular/material/button';\n\n@Component({\n  selector: 'app-categoty-panel',\n  templateUrl: './categoty-panel.component.html',\n  styleUrls: ['./categoty-panel.component.css']\n})\nexport class CategotyPanelComponent {\n\n  public list: Category[] = [];\n  public mForm: FormGroup;\n\n  constructor(private http : HttpClient, @Inject('BASE_URL') private baseUrl: string, private auth: AuthService) {\n    this.mForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(2)]),\n      categoryId: new FormControl('', [Validators.minLength(10)])\n    });\n    this.loadCategories();\n  }\n\n  public onDelete(index: number){\n    var idCategory = this.list[index];\n    if(idCategory != null && idCategory != undefined){\n      console.log(\"onDelete(\" + index + \") -> send\");\n      this.http.delete(this.baseUrl + \"api/Category?id=\" + idCategory.id, {\n        headers: this.auth.getHeadersWithToken()\n      })\n      .subscribe(result => {\n        console.log(result);\n        this.list.splice(index, 1);\n      }, error => {\n          console.log(error);\n      });\n\n    }else{\n      console.log(\"onDelete() -> Not found item: \" + index);\n    }\n  }\n  \n  public onUpdate(index: number){\n    \n  }\n\n\n  private loadCategories(){\n    this.http.get<Category[]>(this.baseUrl + \"api/Category\")\n    .subscribe(\n      result => {\n          this.list = result;\n      }, error => {\n        console.log(\"Error -> Home -> loadCategories()\")\n        console.log(error);\n      }\n    );\n  }\n\n}\n","<div class=\"container my-2 bg-light border rounded shadow\">\n  <p *ngIf=\"list == null || list.length == 0\" class=\"text-center\">Categories not found.</p>\n  <div *ngFor=\"let item of list let i = index\" class=\"row d-flex bg-primary rounded m-2\">\n    <div class=\"col\">\n        <p class=\"text-lg-center m-0 h6 text-white\">{{item.name}}</p>\n        <p class=\"text-lg-center m-0 text-white\">ID: {{item.id}}</p>\n        <p class=\"text-lg-center m-0 text-white \">\n          <small *ngIf=\"item.categoryId != null\">Sub categoty: {{item.categoryId}}</small>\n          <small *ngIf=\"item.categoryId == null\">Sub categoty: NULL</small>\n        </p>\n    </div>\n    <div class=\"col-2 d-flex justify-content-around\">\n      <div class=\"row\">\n        <img (click)=\"onDelete(i)\" src=\"../../../assets/svg/trash.svg\" style=\"width: 50px;\">\n        <img (click)=\"onUpdate(i)\" src=\"../../../assets/svg/edit.svg\" style=\"width: 50px;\">\n      </div>\n    </div>\n</div>\n</div>\n\n\n<!--\n\n\nPS C:\\Users\\chizh\\source\\repos\\WebBeautyBook\\WebBeautyBook\\ClientApp> ng add @angular/material\nSkipping installation: Package already installed\n? Choose a prebuilt theme name, or \"custom\" for a custom theme: Deep Purple/Amber  [ Preview: https://material.angular.io?theme=deeppurple-amber ]\n? Set up global Angular Material typography styles? Yes\n? Include the Angular animations module? Do not include\nUPDATE package.json (1873 bytes)\n⠹ Installing packages (npm)...npm ERR! code ERESOLVE\nnpm ERR! ERESOLVE could not resolve\nnpm ERR! \nnpm ERR! While resolving: @angular/cdk@16.1.5\nnpm ERR! Found: @angular/common@15.1.5\nnpm ERR! node_modules/@angular/common\nnpm ERR!   @angular/common@\"^15.1.5\" from the root project\nnpm ERR!   peer @angular/common@\"15.1.5\" from @angular/forms@15.1.5\nnpm ERR!   node_modules/@angular/forms\nnpm ERR!     @angular/forms@\"^15.1.5\" from the root project\nnpm ERR!   4 more (@angular/platform-browser, ...)\nnpm ERR! \nnpm ERR! Could not resolve dependency:\nnpm ERR! peer @angular/common@\"^16.0.0 || ^17.0.0\" from @angular/cdk@16.1.5\nnpm ERR! node_modules/@angular/cdk\nnpm ERR!   @angular/cdk@\"~16.1.3\" from the root project\nnpm ERR!   peer @angular/cdk@\"16.1.5\" from @angular/material@16.1.5\nnpm ERR!   node_modules/@angular/material\nnpm ERR!     @angular/material@\"~16.1.3\" from the root project\nnpm ERR!\nnpm ERR! Conflicting peer dependency: @angular/common@16.1.5\nnpm ERR! node_modules/@angular/common\nnpm ERR!   peer @angular/common@\"^16.0.0 || ^17.0.0\" from @angular/cdk@16.1.5\nnpm ERR!   node_modules/@angular/cdk\nnpm ERR!     @angular/cdk@\"~16.1.3\" from the root project\nnpm ERR!     peer @angular/cdk@\"16.1.5\" from @angular/material@16.1.5\nnpm ERR!     node_modules/@angular/material\nnpm ERR!       @angular/material@\"~16.1.3\" from the root project\nnpm ERR!\nnpm ERR! Fix the upstream dependency conflict, or retry\nnpm ERR! this command with --force or --legacy-peer-deps\nnpm ERR! to accept an incorrect (and potentially broken) dependency resolution.\nnpm ERR!\nnpm ERR!\nnpm ERR! For a full report see:\nnpm ERR! C:\\Users\\chizh\\AppData\\Local\\npm-cache\\_logs\\2023-07-17T13_57_40_130Z-eresolve-report.txt\n\nnpm ERR! A complete log of this run can be found in: C:\\Users\\chizh\\AppData\\Local\\npm-cache\\_logs\\2023-07-17T13_57_40_130Z-debug-0.log\n✖ Package install failed, see above.\nThe Schematic workflow failed. See above.\nPS C:\\Users\\chizh\\source\\repos\\WebBeautyBook\\WebBeautyBook\\ClientApp>\n\n-->"]},"metadata":{},"sourceType":"module","externalDependencies":[]}